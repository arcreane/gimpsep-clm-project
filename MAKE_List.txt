src/main/main.cpp


LINUX :
# Compiler and flags
CC = g++
CFLAGS = -Wall -std=c++17

# Directories
SRCDIR = src
BINDIR = bin
OBJDIR = obj
LIBDIR = $(SRCDIR)/lib  # Directory containing the cvui.h file

# OpenCV include and library flags
OPENCV_INCLUDE = -I/usr/include/opencv4
OPENCV_LIBS = -L/usr/lib/x86_64-linux-gnu -lopencv_core -lopencv_highgui -lopencv_imgcodecs -lopencv_imgproc -lopencv_videoio -lopencv_stitching

# Custom library
CUSTOM_LIB_INCLUDE = -I$(LIBDIR)  # Include directory for cvui.h

# Source files
SRCS = $(wildcard $(SRCDIR)/*.cpp) $(wildcard $(SRCDIR)/main/*.cpp)

# Object files
OBJS = $(patsubst $(SRCDIR)/%.cpp, $(OBJDIR)/%.o, $(SRCS))

# Target binary
TARGET = $(BINDIR)/main

# Targets
.PHONY: all clean

all: $(TARGET)

$(TARGET): $(OBJS)
	@mkdir -p $(BINDIR)
	$(CC) -o $@ $^ $(OPENCV_LIBS)

$(OBJDIR)/%.o: $(SRCDIR)/%.cpp
	@mkdir -p $(dir $@)
	$(CC) $(CFLAGS) -c $< -o $@ $(OPENCV_INCLUDE) $(CUSTOM_LIB_INCLUDE)

clean:
	@rm -rf $(OBJDIR) $(BINDIR)

# Automatic dependency generation
-include $(OBJS:.o=.d)

$(OBJDIR)/%.d: $(SRCDIR)/%.cpp
	@mkdir -p $(dir $@)
	@$(CC) $(CFLAGS) $(OPENCV_INCLUDE) $(CUSTOM_LIB_INCLUDE) -MM $< > $@.tmp
	@sed 's,\($*\)\.o[ :]*,$(OBJDIR)/\1.o $@ : ,g' < $@.tmp > $@
	@rm -f $@.tmp



CLION :

cmake_minimum_required(VERSION 3.27)
project(gimpsep_clm_project) # You nedd to change the Project Name

set(CMAKE_CXX_STANDARD 20)
set(ENV{OPENCV_DIR} "C:\\tools\\opencv\\build")
set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${CMAKE_SOURCE_DIR}/cmake/")

find_package(OpenCV REQUIRED)
include_directories(${OpenCV_INCLUDE_DIRST})

add_executable(gimpsep_clm_project # You nedd to change the Project Name
        src/main/main.cpp)
        # PUT ALL LIGNE IN THE TOP OF THE FILE

set(OpenCV_LIBS opencv_core opencv_imgproc opencv_highgui opencv_imgcodecs)
target_link_libraries(gimpsep_clm_project ${OpenCV_LIBS}) # You nedd to change the Project Name


CLion Maxime :

cmake_minimum_required(VERSION 3.27)
project(gimpsep_clm_project)

set(CMAKE_CXX_STANDARD 14)
set(ENV{OPENCV_DIR} "D:\\OpenCV\\opencv\\build")
set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${CMAKE_SOURCE_DIR}/cmake/")

find_package(OpenCV REQUIRED)
include_directories(${OpenCV_INCLUDE_DIRST})

# Ajouter le fichier source tinyfiledialogs.c
add_library(tinyfiledialogs STATIC ${CMAKE_SOURCE_DIR}/src/lib/tinyfiledialogs.cpp)

add_executable(gimpsep_clm_project
        src/main/main.cpp
        src/main/ImageTreatment_Maxime.cpp
        src/main/ImageTreatment_Maxime.h
        src/lib/tinyfiledialogs.h
        src/lib/tinyfiledialogs.cpp
        # PUT ALL LIGNE IN THE TOP OF THE FILE
)

set(OpenCV_LIBS opencv_core opencv_imgproc opencv_highgui opencv_imgcodecs)
target_link_libraries(gimpsep_clm_project ${OpenCV_LIBS})
